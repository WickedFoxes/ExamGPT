{% extends 'base.html' %} {% block content %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='form.css') }}"
/>

<div class="main-container">
  <div class="main-title-container">
    <p class="main-title">Upload New File</p>
  </div>
  <hr />
      <form method="post" class="form-container" enctype="multipart/form-data">
          {{ form.csrf_token }} {% include "form_errors.html" %}
          <div id="image_container"><img id="file_image_view" src="" alt=""></div>
          <div class="input-container">
            <p class="input-title">File Upload</p>
            <div div class="file-container">
              <input type="file" name="fileContent" class="file-input" id="file_input" accept="image/*" onchange="setThumbnail(event);">
              <p class="file-name"></p>
              <label class="file-label" for="file_input">SEARCH</label>
          
              <script>
                document.getElementById("file_input").addEventListener("change", function() {
                var fileName = this.files[0].name;
                var label = document.querySelector('.file-name');
                label.innerHTML = fileName;
              });
              function setThumbnail(event) {
                var reader = new FileReader();

                reader.onload = function(event) {
                  var img = document.querySelector("img#file_image_view");
                  img.setAttribute("src", event.target.result);
                };

                reader.readAsDataURL(event.target.files[0]);
              }
              </script>
            </div>
        </div>
          <button class="main-button" style="margin-top: 50px; 
          padding: 10px 30px;" type="submit">SAVE</button>
        </form>
      </div>
  </div>
</div>
{% endblock %}
